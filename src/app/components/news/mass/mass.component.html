<section class="section">

    <mat-form-field appearance="outline" class="search" color="accent">
        <mat-label>Keywords</mat-label>
        <input matInput [(ngModel)]="query" maxlength="30">
        <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>

    <mat-form-field appearance="outline" color="accent">
        <mat-label>Language</mat-label>
        <mat-select [(ngModel)]="selectedLng">
            <mat-option class="btn" *ngFor="let language of languages" [value]="language.iso">
                {{ language.name | uppercase}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" color="accent">
        <mat-label>Sort By</mat-label>
        <mat-select [(ngModel)]="sortBy">
            <mat-option class="btn" *ngFor="let key of orderBy" [value]="key">
                {{ key | uppercase}}
            </mat-option>
        </mat-select>
    </mat-form-field>


    <div class="btn-container">
        <button mat [class.btn]="query.trim()!==''" [class.mat-raised-button]="query.trim()==''"
            [disabled]="query.trim()==''" (click)="searchMassNews()">
            <p>Search</p>
            <mat-icon>search</mat-icon>
        </button>
    </div>
</section>

<div class="article-container" *ngIf="articles && articles.length">
    <div *ngFor="let article of articles">
        <div *ngIf="article.urlToImage">
            <mat-card class="article-card">
                <mat-card-header>
                    <mat-card-title class="title">{{article.title}}</mat-card-title>
                    <mat-card-subtitle>{{article.source.name}}</mat-card-subtitle>
                </mat-card-header>
                <img mat-card-image class="img-article" src={{article.urlToImage}} alt="">
                <mat-card-content>
                    <p>
                        {{article.description}}
                    </p>
                </mat-card-content>
                <mat-card-actions class="action-buttons" align="end">
                    <button mat-button color="accent"><mat-icon>date_range</mat-icon>{{ article.publishedAt | date: 'medium' }}</button>
                    <!-- <button mat-button color="primary"><mat-icon>comment</mat-icon> Comments</button>
                    <button mat-button color="primary"><mat-icon>share</mat-icon> Share</button> -->
                    <a mat-button color="accent" href={{article.url}} target="_blank">
                        <mat-icon>visibility</mat-icon> Read More
                    </a>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
</div>