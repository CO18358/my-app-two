<div class="container fix-background full-width">
  <mat-toolbar class="nav flex-justify">
    <button mat-icon-button (click)="home()">
      <mat-icon>keyboard_backspace</mat-icon>
    </button>
    <div class="header">AnimeQuotes</div>
    <div class="flex">
      <button mat-icon-button (click)="getTitles()">
        <mat-icon>tv</mat-icon>
      </button>
      <button mat-icon-button (click)="getCharacters()">
        <mat-icon>face</mat-icon>
      </button>
    </div>
  </mat-toolbar>

  <ng-container *ngIf="!loader; else spinner">
    <ng-container [ngSwitch]="view">
      <div class="cards pad-16 flex-stretch" *ngSwitchCase="views.Quotes">
        <mat-card class="card" *ngFor="let result of results">
          <h4 class="title cursor" (click)="getCharQuotes(result.character)">
            {{ result.character }}
          </h4>
          <div class="name flex-justify">
            <h5 class="cursor" (click)="getTitleQuotes(result.anime)">
              {{ result.anime }}
            </h5>
            <mat-icon class="copy cursor" [cdkCopyToClipboard]="result.quote"
              >content_copy</mat-icon
            >
          </div>
          <p class="quote text-justify">{{ result.quote }}</p>
        </mat-card>
        <button class="random" mat-mini-fab color="primary" (click)="random()">
          <mat-icon>shuffle</mat-icon>
        </button>
      </div>

      <div class="cards flex-center pad-16" *ngSwitchCase="views.Titles">
        <div
          class="neon-btn cursor"
          *ngFor="let title of filteredTitles | async"
          (click)="getTitleQuotes(title)"
        >
          {{ title == "" ? "-" : title }}
        </div>
      </div>

      <div class="cards flex-center pad-16" *ngSwitchCase="views.Characters">
        <div
          class="neon-btn cursor"
          *ngFor="let title of filteredTitles | async"
          (click)="getCharQuotes(title)"
        >
          {{ title == "" ? "-" : title }}
        </div>
      </div>
    </ng-container>
  </ng-container>
</div>

<ng-template #spinner>
  <app-spinner></app-spinner>
</ng-template>
