<div *ngIf="!loader; else spinner">
  <div class="custom-header margin-16">{{ title }}</div>

  <ul class="pagination flex-center no-margin pad-8" *ngIf="showPagination">
    <mat-icon
      class="page__btn cursor"
      *ngIf="current > 1"
      (click)="getData({ page: 1 })"
    >
      keyboard_double_arrow_left
    </mat-icon>
    <mat-icon
      class="page__btn cursor"
      *ngIf="current > 1"
      (click)="getData({ page: current - 1 })"
    >
      chevron_left
    </mat-icon>
    <li
      class="page__num cursor"
      *ngFor="let num of pageNumbers"
      [class.active]="num == current"
      (click)="getData({ page: num })"
    >
      {{ num }}
    </li>
    <mat-icon
      class="page__btn cursor"
      *ngIf="current < last"
      (click)="getData({ page: current + 1 })"
    >
      chevron_right
    </mat-icon>
    <mat-icon
      class="page__btn cursor"
      *ngIf="current < last"
      (click)="getData({ page: last })"
    >
      keyboard_double_arrow_right
    </mat-icon>
  </ul>

  <div class="cards pad-16 flex-stretch">
    <div
      class="card flex-column cursor"
      *ngFor="let item of results"
      [routerLink]="'/manga/id/' + item.mal_id"
    >
      <img
        class="image"
        [src]="item.images.jpg.large_image_url"
        alt=""
        loading="lazy"
      />
      <span class="spacer"></span>
      <div class="title pad-8">
        <div class="name text-center" [matTooltip]="item.title">
          {{ item.rank && item.rank + ". " }} {{ item.title }}
        </div>
        <hr />
        <div class="flex-justify">
          <div class="info flex">
            <mat-icon class="score">grade</mat-icon>
            {{ item.score || "nil" }}
          </div>
          <div class="info flex">
            <mat-icon class="favorite">favorite</mat-icon>
            {{ item.favorites }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #spinner>
  <app-spinner></app-spinner>
</ng-template>
